%
% inzidenzd.tex
%
% (c) 2021 Prof Dr Andreas MÃ¼ller, OST Ostschweizer Fachhochschule
%
\bgroup
\definecolor{darkgreen}{rgb}{0,0.6,0}
\begin{frame}[t]
\frametitle{Inzidenz- und Adjazenz-Matrix}
\vspace{-20pt}
\begin{columns}[t,onlytextwidth]
\begin{column}{0.40\textwidth}
\begin{center}
\begin{tikzpicture}[>=latex,thick]

\def\r{2.2}

\coordinate (A) at ({\r*cos(0*72)},{\r*sin(0*72)});
\coordinate (B) at ({\r*cos(1*72)},{\r*sin(1*72)});
\coordinate (C) at ({\r*cos(2*72)},{\r*sin(2*72)});
\coordinate (D) at ({\r*cos(3*72)},{\r*sin(3*72)});
\coordinate (E) at ({\r*cos(4*72)},{\r*sin(4*72)});

\draw[->,shorten >= 0.2cm,shorten <= 0.2cm] (A) -- (C);
\draw[color=white,line width=5pt] (B) -- (D);
{\color<2->{darkgreen}
\draw[->,shorten >= 0.2cm,shorten <= 0.2cm] (B) -- (D);
}

\draw[->,shorten >= 0.2cm,shorten <= 0.2cm] (A) -- (B);
\draw[->,shorten >= 0.2cm,shorten <= 0.2cm] (B) -- (C);
\draw[->,shorten >= 0.2cm,shorten <= 0.2cm] (C) -- (D);
\draw[->,shorten >= 0.2cm,shorten <= 0.2cm] (D) -- (E);
\draw[->,shorten >= 0.2cm,shorten <= 0.2cm] (E) -- (A);

\draw (A) circle[radius=0.2];
\only<-2>{
\fill[color=white] (B) circle[radius=0.2];
}
\only<3->{
\fill[color=red!20] (B) circle[radius=0.2];
}
\draw (B) circle[radius=0.2];
\draw (C) circle[radius=0.2];
\draw (D) circle[radius=0.2];
\draw (E) circle[radius=0.2];

\node at (A) {$1$};
\node at (B) {$2$};
\node at (C) {$3$};
\node at (D) {$4$};
\node at (E) {$5$};
\node at (0,0) {$G$};

\node at ($0.5*(A)+0.5*(B)-(0.1,0.1)$) [above right] {$\scriptstyle 1$};
\node at ($0.5*(B)+0.5*(C)+(0.05,-0.07)$) [above left] {$\scriptstyle 2$};
\node at ($0.5*(C)+0.5*(D)+(0.05,0)$) [left] {$\scriptstyle 3$};
\node at ($0.5*(D)+0.5*(E)$) [below] {$\scriptstyle 4$};
\node at ($0.5*(E)+0.5*(A)+(-0.1,0.1)$) [below right] {$\scriptstyle 5$};
\node at ($0.6*(A)+0.4*(C)$) [above] {$\scriptstyle 6$};
{\color<2->{darkgreen}
\node at ($0.4*(B)+0.6*(D)$) [left] {$\scriptstyle 7$};
}

\end{tikzpicture}
\end{center}
\vspace{-15pt}
\uncover<5->{%
\begin{block}{Definition}
\vspace{-20pt}
\begin{align*}
B(G)_{ij}&=-1&&\Leftrightarrow&&\text{Kante $j$ von $i$}\\
B(G)_{kj}&=+1&&\Leftrightarrow&&\text{Kante $j$ nach $k$}\\
A(G)_{ij}&=\phantom{-}1&&\Leftrightarrow&&\text{Kante von $i$ nach $j$}
\end{align*}
\end{block}}
\end{column}
\begin{column}{0.58\textwidth}
\begin{center}
\begin{tikzpicture}[>=latex,thick]

\def\dx{0.84}
\def\dy{0.48}

\begin{scope}[xshift=4cm,yshift=3cm]
\uncover<3->{
\fill[color=red!20] 
({-0.67-(7-1)*\dx-0.4},{-0.38-(2-1)*\dy-0.2})
rectangle
({-0.67-(7-7)*\dx+0.2},{-0.38-(2-1)*\dy+0.16});
}
\uncover<2->{
\fill[color=darkgreen!40,opacity=0.5] 
({-0.67-(7-7)*\dx-0.4},{-0.38-(5-1)*\dy-0.2})
rectangle
({-0.67-(7-7)*\dx+0.2},{-0.38-(1-1)*\dy+0.16});
}
%\draw (0,0) circle[radius=0.05];
\foreach \x in {1,...,7}{
	\node[color=gray] at ({-0.67-(7-\x)*\dx},0.0) {\tiny $\x$};
}
\draw[color=gray] ({-0.72-6*\dx},-0.1) -- (-0.6,-0.1);
\foreach \y in {1,...,5}{
	\node[color=gray] at ({0},{-0.38-(\y-1)*\dy}) {\tiny $\y$};
}
\draw[color=gray] (-0.1,-0.28) -- (-0.1,-2.4);
\node[color=gray] at ({-0.67-(7-4)*\dx},0.04) [above] {\tiny Kanten};
\node[color=gray] at ({0.00},{-0.38-(3-1)*\dy})
	[above,rotate=-90] {\tiny Knoten};
\end{scope}

\uncover<4->{
\begin{scope}[xshift=2.32cm,yshift=-0.24cm]
%\draw (0,0) circle[radius=0.05];
\fill[color=red!20] 
({-0.67-(5-1)*\dx-0.4},{-0.38-(2-1)*\dy-0.2})
rectangle
({-0.67-(5-5)*\dx+0.2},{-0.38-(2-1)*\dy+0.16});
\fill[color=red!20] 
({-0.67-(5-2)*\dx-0.4},{-0.38-(5-1)*\dy-0.2})
rectangle
({-0.67-(5-2)*\dx+0.2},{-0.38-(1-1)*\dy+0.16});
\foreach \x in {1,...,5}{
	\node[color=gray] at ({-0.67-(5-\x)*\dx},0.0) {\tiny $\x$};
}
\draw[color=gray] ({-0.72-4*\dx},-0.1) -- (-0.6,-0.1);
\foreach \y in {1,...,5}{
	\node[color=gray] at ({0},{-0.38-(\y-1)*\dy}) {\tiny $\y$};
}
\draw[color=gray] (-0.1,-0.28) -- (-0.1,-2.4);
\node[color=gray] at ({-0.67-(5-3)*\dx},0.04) [above] {\tiny Knoten};
\node[color=gray] at ({0.00},{-0.38-(3-1)*\dy})
	[above,rotate=-90] {\tiny Knoten};
\end{scope}
}

\node at (0,0) {$\displaystyle
\begin{aligned}
B(G)
&=
\begin{pmatrix*}[r]
-1& 0& 0& 0&+1&-1& 0\\
+1&-1& 0& 0& 0& 0&-1\\
 0&+1&-1& 0& 0&+1& 0\\
 0& 0&+1&-1& 0& 0&+1\\
 0& 0& 0&+1&-1& 0& 0
\end{pmatrix*}
\\[20pt]
\uncover<4->{
A(G)
&=
\begin{pmatrix*}[r]
 0&\phantom{-}1&\phantom{-}1& 0&\phantom{-}1\\
\phantom{-}1& 0&\phantom{-}1&\phantom{-}1& 0\\
\phantom{-}1&\phantom{-}1& 0&\phantom{-}1& 0\\
 0&\phantom{-}1&\phantom{-}1& 0&\phantom{-}1\\
\phantom{-}1& 0& 0&\phantom{-}1& 0
\end{pmatrix*}}
\end{aligned}$};
\end{tikzpicture}
\end{center}
\end{column}
\end{columns}
\end{frame}
